"use strict";!function(t){t.fn.circliful=function(e,r){var o=t.extend({foregroundColor:"#3498DB",backgroundColor:"#ccc",pointColor:"none",fillColor:"none",foregroundBorderWidth:15,backgroundBorderWidth:15,pointSize:28.5,fontColor:"#aaa",counterMax:100,counter:88,animation:1,animationStep:5,icon:"none",iconSize:"30",iconColor:"#ccc",iconPosition:"top",target:0,start:0,showPercent:1,percentageTextSize:22,percentageX:100,percentageY:113,textAdditionalCss:"",targetPercent:0,targetTextSize:17,targetColor:"#2980B9",text:null,textStyle:null,textColor:"#666",textY:null,textX:null,multiPercentage:0,percentages:null,textBelow:!1,noPercentageSign:!1,replacePercentageByText:null,halfCircle:!1,animateInView:!1,decimals:0,alwaysDecimals:!1,title:"Circle Chart",description:"",progressColor:null},e);return this.each(function(){function e(){var e=window.setInterval(function(){B>=I?(window.clearInterval(e),T=1,"function"==typeof r&&r.call(this)):(B+=v,X+=Y),o.halfCircle?2*B/S>=g&&1==T&&(B=S*g/2):B/S>=g&&1==T&&(B=S*g),X>o.target&&1==T&&(X=o.target),null==o.replacePercentageByText&&(z=o.halfCircle?parseFloat(u*B/360*2):parseFloat(u*B/360),z=z.toFixed(o.decimals),!o.alwaysDecimals&&(0==g||g>1&&1!=T)&&(z=parseInt(z))),w.attr("stroke-dasharray",B+", 20000"),1==o.showPercent?P.find(".number").text(z):(P.find(".number").text(X),P.find(".percent").text("")),null!=m&&t.each(m,function(t,e){o.halfCircle&&(t/=2),B>=t*S&&w.css({stroke:e,transition:"stroke 0.1s linear"})})}.bind(w),b)}function l(){var e=navigator.userAgent.toLowerCase().indexOf("webkit")!=-1?"body":"html",r=t(e).scrollTop(),o=r+t(window).height(),l=Math.round(w.offset().top),n=l+w.height();return l<o&&n>r}function n(){w.hasClass("start")||l(w)&&(w.addClass("start"),setTimeout(e,250))}function a(e,r){t.each(e,function(t,o){t.toLowerCase()in r&&(e[t]=r[t.toLowerCase()])})}var c=t(this);a(o,c.data());var i,s,x,d,g=o.counter,u=o.counterMax,f=83,h=100,y=o.percentageY,p=o.percentageX,C=o.backgroundBorderWidth,m=o.progressColor;if(o.halfCircle?"left"==o.iconPosition?(h=80,f=100,p=117,y=100):o.halfCircle&&(f=80,y=100):"bottom"==o.iconPosition?(f=124,y=95):"left"==o.iconPosition?(h=80,f=110,p=117):"middle"==o.iconPosition?1==o.multiPercentage?"object"==typeof o.percentages?C=30:(f=110,s='<g stroke="'+("none"!=o.backgroundColor?o.backgroundColor:"#ccc")+'" ><line x1="133" y1="50" x2="140" y2="40" stroke-width="2"  /></g>',s+='<g stroke="'+("none"!=o.backgroundColor?o.backgroundColor:"#ccc")+'" ><line x1="140" y1="40" x2="200" y2="40" stroke-width="2"  /></g>',p=228,y=47):(f=110,s='<g stroke="'+("none"!=o.backgroundColor?o.backgroundColor:"#ccc")+'" ><line x1="133" y1="50" x2="140" y2="40" stroke-width="2"  /></g>',s+='<g stroke="'+("none"!=o.backgroundColor?o.backgroundColor:"#ccc")+'" ><line x1="140" y1="40" x2="200" y2="40" stroke-width="2"  /></g>',p=170,y=35):"right"==o.iconPosition?(h=120,f=110,p=80):"top"==o.iconPosition&&"none"!=o.icon&&(y=120),o.targetPercent>0&&1!=o.halfCircle&&(y=95,s='<g stroke="'+("none"!=o.backgroundColor?o.backgroundColor:"#ccc")+'" ><line x1="75" y1="101" x2="125" y2="101" stroke-width="1"  /></g>',s+='<text text-anchor="middle" x="'+p+'" y="120" style="font-size: '+o.targetTextSize+'px;" fill="'+o.targetColor+'">'+o.targetPercent+(o.noPercentageSign&&null==o.replacePercentageByText?"":"%")+"</text>",s+='<circle cx="100" cy="100" r="69" fill="none" stroke="'+o.backgroundColor+'" stroke-width="3" stroke-dasharray="450" transform="rotate(-90,100,100)" />',s+='<circle cx="100" cy="100" r="69" fill="none" stroke="'+o.targetColor+'" stroke-width="3" stroke-dasharray="'+4.35*o.targetPercent+', 20000" transform="rotate(-90,100,100)" />'),null!=o.text&&(o.halfCircle?o.textBelow?x='<text text-anchor="middle" x="'+(null!=o.textX?o.textX:"100")+'" y="'+(null!=o.textY?o.textY:"64%")+'" style="'+o.textStyle+'" fill="'+o.textColor+'">'+o.text+"</text>":0==o.multiPercentage?x='<text text-anchor="middle" x="'+(null!=o.textX?o.textX:"100")+'" y="'+(null!=o.textY?o.textY:"115")+'" style="'+o.textStyle+'" fill="'+o.textColor+'">'+o.text+"</text>":1==o.multiPercentage&&(x='<text text-anchor="middle" x="'+(null!=o.textX?o.textX:"228")+'" y="'+(null!=o.textY?o.textY:"65")+'" style="'+o.textStyle+'" fill="'+o.textColor+'">'+o.text+"</text>"):o.textBelow?x='<text text-anchor="middle" x="'+(null!=o.textX?o.textX:"100")+'" y="'+(null!=o.textY?o.textY:"99%")+'" style="'+o.textStyle+'" fill="'+o.textColor+'">'+o.text+"</text>":0==o.multiPercentage?x='<text text-anchor="middle" x="'+(null!=o.textX?o.textX:"100")+'" y="'+(null!=o.textY?o.textY:"115")+'" style="'+o.textStyle+'" fill="'+o.textColor+'">'+o.text+"</text>":1==o.multiPercentage&&(x='<text text-anchor="middle" x="'+(null!=o.textX?o.textX:"228")+'" y="'+(null!=o.textY?o.textY:"65")+'" style="'+o.textStyle+'" fill="'+o.textColor+'">'+o.text+"</text>")),"none"!=o.icon&&(d='<text text-anchor="middle" x="'+h+'" y="'+f+'" class="icon" style="font-size: '+o.iconSize+'px" fill="'+o.iconColor+'">&#x'+o.icon+"</text>"),o.halfCircle){var k='transform="rotate(-180,100,100)"';c.addClass("svg-container").append(t('<svg xmlns="http://www.w3.org/2000/svg" version="1.1" viewBox="0 0 194 186" class="circliful">'+s+'<clipPath id="cut-off-bottom"> <rect x="100" y="0" width="100" height="200" /> </clipPath><circle cx="100" cy="100" r="57" class="border" fill="'+o.fillColor+'" stroke="'+o.backgroundColor+'" stroke-width="'+C+'" stroke-dasharray="360" clip-path="url(#cut-off-bottom)" transform="rotate(-90,100,100)" /><circle class="circle" cx="100" cy="100" r="57" class="border" fill="none" stroke="'+o.foregroundColor+'" stroke-width="'+o.foregroundBorderWidth+'" stroke-dasharray="0,20000" '+k+' /><circle cx="100" cy="100" r="'+o.pointSize+'" fill="'+o.pointColor+'" clip-path="url(#cut-off-bottom)" transform="rotate(-90,100,100)" />'+d+x+'<text class="timer" text-anchor="middle" x="'+p+'" y="'+y+'" style="font-size: '+o.percentageTextSize+"px; "+i+";"+o.textAdditionalCss+'" fill="'+o.fontColor+'"><tspan class="number">'+(null==o.replacePercentageByText?0:o.replacePercentageByText)+'</tspan><tspan class="percent">'+(o.noPercentageSign||null!=o.replacePercentageByText?"":"%")+"</tspan></text>"))}else c.addClass("svg-container").append(t('<svg xmlns="http://www.w3.org/2000/svg" version="1.1" viewBox="0 0 194 186" class="circliful">'+s+'<circle cx="100" cy="100" r="57" class="border" fill="'+o.fillColor+'" stroke="'+o.backgroundColor+'" stroke-width="'+C+'" stroke-dasharray="360" transform="rotate(-90,100,100)" /><circle class="circle" cx="100" cy="100" r="57" class="border" fill="none" stroke="'+o.foregroundColor+'" stroke-width="'+o.foregroundBorderWidth+'" stroke-dasharray="0,20000" transform="rotate(-90,100,100)" /><circle cx="100" cy="100" r="'+o.pointSize+'" fill="'+o.pointColor+'" />'+d+x+'<text class="timer" text-anchor="middle" x="'+p+'" y="'+y+'" style="font-size: '+o.percentageTextSize+"px; "+i+";"+o.textAdditionalCss+'" fill="'+o.fontColor+'"><tspan class="number">'+(null==o.replacePercentageByText?0:o.replacePercentageByText)+'</tspan><tspan class="percent">'+(o.noPercentageSign||null!=o.replacePercentageByText?"":"%")+"</tspan></text>"));var w=c.find(".circle"),P=c.find(".timer"),b=30,B=0,S=360/u,v=o.animationStep,T=0,X=0,Y=0,z=g,I=360/u*g;o.halfCircle&&(I=360/u*g/2),null!=o.replacePercentageByText&&(z=o.replacePercentageByText),o.start>0&&o.target>0&&(g=o.start/(o.target/u),Y=o.target/u),1==o.animation?o.animateInView?t(window).scroll(function(){n()}):e():(w.attr("stroke-dasharray",I+", 20000"),1==o.showPercent?P.find(".number").text(z):(P.find(".number").text(o.target),P.find(".percent").text("")))})}}(jQuery);